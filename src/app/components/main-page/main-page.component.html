<div class="page-container">
    <div class="cars-list-container">
        <mat-card appearance="outlined">
            <mat-card-content>
                <ng-container *ngIf="cars.length; else noCarsTemplate">
                    <cdk-accordion class="example-accordion">
                        @for (car of cars; track car; let index = $index) {
                        <cdk-accordion-item #accordionItem="cdkAccordionItem" class="example-accordion-item"
                            role="button" tabindex="0" [attr.id]="'accordion-header-' + index"
                            [attr.aria-expanded]="accordionItem.expanded"
                            [attr.aria-controls]="'accordion-body-' + index">
                            <div class="example-accordion-item-header" (click)="accordionItem.toggle()">
                                <strong>VIN </strong> {{ car.vin }}
                            </div>
                            <div class="example-accordion-item-body" role="region"
                                [style.display]="accordionItem.expanded ? '' : 'none'"
                                [attr.id]="'accordion-body-' + index"
                                [attr.aria-labelledby]="'accordion-header-' + index">
                                <p>
                                    <strong> VIN: </strong> {{car.vin}}
                                </p>
                                <p>
                                    <strong> Brand: </strong> {{car.brand}}
                                </p>
                                <p>
                                    <strong> Model: </strong> {{car.model}}
                                </p>
                                <p>
                                    <strong> Production year: </strong> {{car.productionYear}}
                                </p>
                            </div>
                        </cdk-accordion-item>
                        }
                    </cdk-accordion>
                </ng-container>
                <ng-template #noCarsTemplate>
                    Brak samochod√≥w
                </ng-template>
            </mat-card-content>
        </mat-card>
    </div>

    <div class="new-car-form-container">
        <mat-card appearance="outlined">
            <mat-card-content>
                <form [formGroup]="newCarForm">
                    <mat-form-field>
                        <mat-label>VIN</mat-label>
                        <input formControlName="vin" matInput>
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Brand</mat-label>
                        <input formControlName="brand" matInput>
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Model</mat-label>
                        <input formControlName="model" matInput>
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Production year</mat-label>
                        <input formControlName="productionYear" matInput>
                    </mat-form-field>

                </form>
                <button (click)="addCar()" mat-flat-button>Add car</button>
            </mat-card-content>
        </mat-card>

    </div>
</div>